(window["webpackJsonpBookstore-ala-carte"]=window["webpackJsonpBookstore-ala-carte"]||[]).push([[0],{51:function(e,t,a){e.exports=a(83)},56:function(e,t,a){},77:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(26),c=a.n(l),o=(a(56),a(7)),s=a(8),i=a(10),m=a(9),d=a(11),u=a(29),h=a(22),p=a(24),g=a(2),b=a(6),f=a.n(b),E=(a(77),"http://ec2-35-174-13-30.compute-1.amazonaws.com:3333"),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){null!=localStorage.getItem("keyToken")&&(window.location="/home")}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=new FormData(e.target);console.log(e),f()({method:"post",url:"".concat(E,"/api/users/login"),data:t,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(e){localStorage.setItem("keyToken","Bearer ".concat(e.data.token)),window.location.href="/home"})).catch((function(e){alert("username or password incorrect")}))}},{key:"handleSignUp",value:function(e){e.preventDefault();var t=new FormData(e.target);console.log(e),fetch("".concat(E,"/api/users/register"),{method:"POST",body:t}).then((function(e){200===e.status?window.location.href="/":500===e.status&&alert("username is already exist")}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"}),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"card m-5"},r.a.createElement("article",{className:"card-body"},r.a.createElement("a",{href:!0,className:"float-right btn btn-outline-primary","data-target":"#signUpModal","data-toggle":"modal"},"Sign up"),r.a.createElement("h4",{className:"card-title mb-4 mt-1"},"Sign in"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Username"),r.a.createElement("input",{name:"username",className:"form-control",placeholder:"Username",type:"text"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"password"),r.a.createElement("input",{name:"password",className:"form-control",placeholder:"******",type:"password"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"checkbox"},r.a.createElement("label",null," ",r.a.createElement("input",{type:"checkbox"})," Save password "))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"}," Login")))))),r.a.createElement("div",{className:"col-md-4"}),r.a.createElement("div",{className:"modal fade",id:"signUpModal",tabindex:-1,role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"Register"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("form",{onSubmit:this.handleSignUp},r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username",className:"col-form-label"},"Username:"),r.a.createElement("input",{type:"text",className:"form-control",id:"username",name:"username"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password",className:"col-form-label"},"Password:"),r.a.createElement("input",{type:"password",className:"form-control",id:"password",name:"password"}))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-warning","data-dismiss":"modal"},"Close"),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")))))))}}]),t}(n.Component),v=a(4),N=a.n(v),w=a(12),k=a(50),O=a(28),C=(a(79),a(80),a(85)),j=a(86),S=a(87),x=a(88),T=a(89),I=a(90),q=a(91),P=function(){return{type:"GET_CATEGORIES",payload:f.a.get("http://ec2-35-174-13-30.compute-1.amazonaws.com:3333/api/categories",{headers:{Authorization:localStorage.getItem("keyToken")}})}},D="http://ec2-35-174-13-30.compute-1.amazonaws.com:3333",F=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={categories:[],id:a.props.id,name:a.props.name,price:a.props.price,description:a.props.description,id_category:a.props.category,image:"",qty:a.props.quantity,qtyInCart:0,warningFile:!1},a.handleChangeQuantity=a.handleChangeQuantity.bind(Object(g.a)(a)),a.handleUpdate=a.handleUpdate.bind(Object(g.a)(a)),a.handleChangeDesc=a.handleChangeDesc.bind(Object(g.a)(a)),a.handleChangePrice=a.handleChangePrice.bind(Object(g.a)(a)),a.handleChangeName=a.handleChangeName.bind(Object(g.a)(a)),a.checkSelected=a.checkSelected.bind(Object(g.a)(a)),a.addToCart=a.addToCart.bind(Object(g.a)(a)),a.handleDelete=a.handleDelete.bind(Object(g.a)(a)),a.handleEditImg=a.handleEditImg.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getCategories()}},{key:"getCategories",value:function(){var e=Object(w.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.dispatch(P());case 2:this.setState({categories:this.props.data.categories});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChangeName",value:function(e){var t=e.target.value;this.setState({name:t})}},{key:"handleChangeQuantity",value:function(e){var t=e.target.value;this.setState({qty:t})}},{key:"handleEditImg",value:function(e){var t=e.target.files[0].name;e.target.files[0].size>1e6&&(this.setState({warningFile:!0}),e.target.value=null),t.match(/[\/.](gif|jpg|jpeg|tiff|png)$/i)||(this.setState({warningFile:!0}),e.target.value=null)}},{key:"handleChangeDesc",value:function(e){var t=e.target.value;this.setState({description:t})}},{key:"handleChangePrice",value:function(e){var t=e.target.value;this.setState({price:t})}},{key:"handleUpdate",value:function(e){e.preventDefault();var t=new FormData(e.target),a="".concat(D,"/api/products/").concat(this.props.id);f()({method:"put",url:a,data:t,config:{headers:{"Content-Type":"multipart/form-data",Authorization:localStorage.getItem("keyToken")}}}),window.location.href="/"}},{key:"addToCart",value:function(){var e=Object(w.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(this.state.name),!(this.state.qtyInCart>0)){e.next=5;break}this.state.qtyInCart+=1,e.next=7;break;case 5:return e.next=7,this.setState({id:this.props.id,qtyInCart:1,name:this.props.name,price:this.props.price,image:this.props.image,id_category:this.props.category});case 7:return e.next=9,this.props.handleCart(this.state);case 9:this.props.handleTotal(this.props.price);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkSelected",value:function(e){if(this.props.id===e)return"selected"}},{key:"handleDelete",value:function(e){e.preventDefault(),f.a.delete("".concat(D,"/api/products/").concat(this.props.id),{crossdomain:!0}),window.location.href="/home"}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card"},r.a.createElement(C.a,null,r.a.createElement(j.a,{className:"cardImg",src:"".concat(D)+this.props.image}),r.a.createElement(S.a,null,r.a.createElement(x.a,null,this.props.name),r.a.createElement(T.a,null),r.a.createElement(I.a,null,"Rp. ",this.props.price),r.a.createElement(q.a,{color:"warning",onClick:this.addToCart},r.a.createElement("span",{className:"fas fa-shopping-cart"})),r.a.createElement(q.a,{"data-toggle":"modal","data-target":"#editModal-"+this.props.id,color:"primary"},r.a.createElement("span",{className:"fa fa-edit"})),r.a.createElement(q.a,{"data-toggle":"modal","data-target":"#deleteModal-"+this.props.id,color:"danger"},r.a.createElement("span",{className:"fa fa-trash"}))))),r.a.createElement("div",{className:"modal fade",id:"deleteModal-"+this.props.id,tabIndex:-1,role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"Remove Product"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("form",{onSubmit:this.handleDelete},r.a.createElement("div",{className:"modal-body"},r.a.createElement("p",null,"Are You Sure you want to delete this product?")),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-warning","data-dismiss":"modal"},"Close"),r.a.createElement("button",{type:"submit",className:"btn btn-danger"},"Delete")))))),r.a.createElement("div",{className:"modal fade",id:"editModal-"+this.props.id,tabIndex:-1,role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"Edit Product"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("form",{onSubmit:this.handleUpdate},r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name",className:"col-form-label"},"Name:"),r.a.createElement("input",{type:"text",className:"form-control",id:"name",name:"name",onChange:this.handleChangeName,value:this.state.name,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"price",className:"col-form-label"},"Price:"),r.a.createElement("input",{type:"number",className:"form-control",id:"price",name:"price",onChange:this.handleChangePrice,value:this.state.price,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"count",className:"col-form-label"},"Quantity:"),r.a.createElement("input",{type:"number",className:"form-control",id:"quantity",name:"count",onChange:this.handleChangeQuantity,value:this.state.qty,required:!0})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"id_category",className:"col-form-label"},"category:"),r.a.createElement("select",{id:"category",name:"id_category",className:"form-control",required:!0},r.a.createElement("option",{hidden:!0,disabled:!0,selected:!0,value:!0}," ---SELECT--- "),this.state.categories.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.name_category)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"image",className:"col-form-label"},"Image:"),!0===this.state.warningFile?r.a.createElement("p",{style:{color:"red"}},"File must image and image must lower than 1MB !!"):"",r.a.createElement("input",{type:"file",className:"form-control",id:"image",name:"image",onChange:this.handleEditImg,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"description",className:"col-form-label"},"Description:"),r.a.createElement("textarea",{className:"form-control",id:"description",name:"description",onChange:this.handleChangeDesc,value:this.state.description}))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-warning","data-dismiss":"modal"},"Close"),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")))))))}}]),t}(n.Component),M=Object(p.b)((function(e){return{data:e.categories}}))(F),A=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={id:a.props.id,qty:a.props.quantity,name:a.props.name,price:a.props.price,image:a.props.image},a.addToCart=a.addToCart.bind(Object(g.a)(a)),a.reduceQuantity=a.reduceQuantity.bind(Object(g.a)(a)),a.removeCart=a.removeCart.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"addToCart",value:function(){var e=Object(w.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.props.quantity>0)){e.next=5;break}return e.next=3,this.setState({qty:this.props.quantity+1,name:this.props.name,id:this.props.id,price:this.props.price,image:this.props.image});case 3:e.next=7;break;case 5:return e.next=7,this.setState({qty:1,id:this.props.id,name:this.props.name,price:this.props.price,image:this.props.image});case 7:return e.next=9,this.props.handleTotal(this.state.price);case 9:return e.next=11,this.props.handleCart(this.state);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCart",value:function(){var e=Object(w.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({qty:0,id:this.props.id,name:this.props.name,price:this.props.price,image:this.props.image});case 2:return e.next=4,this.props.handleRemove(this.props.id);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reduceQuantity",value:function(){var e=Object(w.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({qty:this.props.quantity-1,id:this.props.id,name:this.props.name,price:this.props.price,image:this.props.image});case 2:return e.next=4,this.props.handleTotal(-this.state.price);case 4:return e.next=6,this.props.reduceCart(this.state);case 6:if(!(this.props.quantity<1)){e.next=9;break}return e.next=9,this.props.handleRemove(this.props.id);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,this.props.quantity>0?r.a.createElement("div",{className:"row m-2 bg-light cart-list",style:{height:"700px",overflowX:"hidden",overflowY:"auto"}},r.a.createElement("img",{src:"http://localhost:3333/"+this.props.image,className:"img-cart fit-image ",alt:""}),r.a.createElement("div",{className:"row mb-5"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h5",null,this.props.name)),r.a.createElement("div",{className:"col-12"},r.a.createElement("p",null,"Price : Rp. ",this.props.price)),r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"input-group"},r.a.createElement("span",{className:"input-group-btn"},r.a.createElement("button",{type:"button",className:"btn btn-default btn-number",disabled:this.props.quantity<1,onClick:this.reduceQuantity,"data-type":"minus","data-field":"quant[1]"},r.a.createElement("span",{className:"fas fa-minus"}))),r.a.createElement("input",{type:"text",name:"quant[1]",value:this.props.quantity,className:"form-control input-number",defaultValue:1,min:1,max:10}),r.a.createElement("span",{className:"input-group-btn"},r.a.createElement("button",{type:"button",className:"btn btn-default btn-number","data-type":"plus","data-field":"quant[1]",onClick:this.addToCart},r.a.createElement("span",{className:"fas fa-plus"}))))),r.a.createElement("div",{className:"col-12"},r.a.createElement("button",{className:"btn btn-danger m-4",onClick:this.removeCart},"Remove")))):r.a.createElement("div",null))}}]),t}(n.Component);function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var R="http://ec2-35-174-13-30.compute-1.amazonaws.com:3333",B=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={data:[],categories:[],cart:[],currentPage:0,pages:1,totalData:0,allData:0,total:0,amount:0,filter:"",search:[],showCart:"none",warningFile:!1},e.handleAddImg=e.handleAddImg.bind(Object(g.a)(e)),e.handleCheckout=e.handleCheckout.bind(Object(g.a)(e)),e.nextPage=e.nextPage.bind(Object(g.a)(e)),e.previousPage=e.previousPage.bind(Object(g.a)(e)),e.removeCart=e.removeCart.bind(Object(g.a)(e)),e.getAll=e.getAll.bind(Object(g.a)(e)),e.getCategories=e.getCategories.bind(Object(g.a)(e)),e.handleChange=e.handleChange.bind(Object(g.a)(e)),e.sortBy=e.sortBy.bind(Object(g.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(g.a)(e)),e.search=e.search.bind(Object(g.a)(e)),e.handleKeyPress=e.handleKeyPress.bind(Object(g.a)(e)),e.calculateTotal=e.calculateTotal.bind(Object(g.a)(e)),e.handleCart=e.handleCart.bind(Object(g.a)(e)),e.reduceCart=e.reduceCart.bind(Object(g.a)(e)),e.cartToggle=e.cartToggle.bind(Object(g.a)(e)),e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getAll(),this.getCategories()}},{key:"calculateTotal",value:function(e){this.setState({total:this.state.total+e})}},{key:"handleChange",value:function(e){var t=e.target.value;this.sortBy(t)}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=new FormData(e.target);f()({method:"post",url:"".concat(R,"/api/products"),data:t,config:{headers:{"Content-Type":"multipart/form-data",Authorization:localStorage.getItem("keyToken")}}}),window.location.href="/home"}},{key:"handleAddImg",value:function(e){var t=e.target.files[0].name;e.target.files[0].size>1e6&&(this.setState({warningFile:!0}),e.target.value=null),t.match(/[\/.](gif|jpg|jpeg|tiff|png)$/i)||(this.setState({warningFile:!0}),e.target.value=null)}},{key:"previousPage",value:function(){var e=Object(w.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.currentPage>0&&(this.state.currentPage-=6),e.next=3,this.getAll();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nextPage",value:function(){this.state.currentPage+=6,this.getAll()}},{key:"sortBy",value:function(e){var t=this;""===e?this.getAll():f.a.get("".concat(R,"/api/products?page=")+this.state.currentPage+"&limit=6&sortBy="+e,{headers:{Authorization:localStorage.getItem("keyToken")}}).then((function(e){t.setState({data:e.data.data})})).catch((function(e){console.log(e)}))}},{key:"handleCart",value:function(e){this.state.amount+=1,this.setState((function(t){var a=t.cart,n=!1;return a.forEach((function(t){t.name===e.name&&(n=!0,t.qty+=1)})),n||a.push(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(a,!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{qty:1})),a}))}},{key:"cartToggle",value:function(e){this.setState({showCart:e})}},{key:"reduceCart",value:function(e){this.state.amount-=1,this.setState((function(t){var a=t.cart;return a.forEach((function(t){t.name===e.name&&(t.qty-=1)})),a}))}},{key:"handleCheckout",value:function(){this.state.cart.map((function(e){f.a.post("".concat(R,"/api/products/history"),{product:e.name,price:e.price*e.qty,amount:e.qty},{headers:{Authorization:localStorage.getItem("keyToken")}}).then((function(){window.location.href="/history"}))}))}},{key:"removeCart",value:function(){var e=Object(w.a)(N.a.mark((function e(t){var a,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(k.a)(this.state.cart),n=a.map((function(e){return e.id})).indexOf(t),this.state.amount-=this.state.cart[n].qty,this.state.total-=this.state.cart[n].qty*this.state.cart[n].price,-1!==n&&a.splice(n,1),this.setState({cart:a});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleKeyPress",value:function(e){this.setState({filter:e.target.value})}},{key:"search",value:function(){var e=Object(w.a)(N.a.mark((function e(){var t=this;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(R,"/api/products/search?name=").concat(this.state.filter),{headers:{Authorization:localStorage.getItem("keyToken")}}).then((function(e){console.log(e),e.data.data.length>0?t.setState({search:e.data.data}):alert("data not found")})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=Object(w.a)(N.a.mark((function e(){var t=this;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://ec2-35-174-13-30.compute-1.amazonaws.com:3333/api/products",{headers:{Authorization:localStorage.getItem("keyToken")}}).then((function(e){t.setState({allData:e.data.count})})).catch((function(e){console.log(e)}));case 2:return e.next=4,f.a.get("".concat(R,"/api/products?page=")+this.state.currentPage+"&limit=6",{headers:{Authorization:localStorage.getItem("keyToken")}}).then((function(e){t.setState({data:e.data.data}),console.log(t.state.data)})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCategories",value:function(){var e=Object(w.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.dispatch(P());case 2:this.setState({categories:this.props.data.categories});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=Math.ceil(this.state.allData/6);return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"p-4",style:{height:"700px",overflowX:"hidden",overflowY:"auto"}},r.a.createElement("div",{className:"product row d-flex"},this.state.search.length>0?this.state.search.map((function(t,a){return r.a.createElement(M,{key:a,allCategory:e.state.categories,category:t.id_category,quantity:t.count,description:t.description,id:t.id,name:t.name,price:t.price,image:t.image,handleTotal:e.calculateTotal,handleCart:e.handleCart})})):this.state.data.map((function(t,a){return r.a.createElement(M,{key:a,allCategory:e.state.categories,category:t.id_category,quantity:t.count,description:t.description,id:t.id,name:t.name,price:t.price,image:t.image,handleTotal:e.calculateTotal,handleCart:e.handleCart})}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("span",{className:"input-group-btn"},r.a.createElement("button",{type:"button",className:"btn btn-default btn-number",disabled:Math.ceil(this.state.currentPage/6+1)<2,onClick:this.previousPage,"data-type":"minus","data-field":"quant[1]"},r.a.createElement("span",{className:"fas fa-minus"})))),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("input",{type:"text",name:"quant[1]",value:Math.ceil(this.state.currentPage/6+1),className:"form-control input-number",min:1,disabled:!0})),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("span",{className:"input-group-btn"},r.a.createElement("button",{type:"button",className:"btn btn-default btn-number",disabled:Math.ceil(this.state.currentPage/6+1)===t,"data-type":"plus","data-field":"quant[1]",onClick:this.nextPage},r.a.createElement("span",{className:"fas fa-plus"})))))))),r.a.createElement("div",{className:"cart-body border border-light border-top-0 shadow",style:{display:this.props.show}},r.a.createElement("h5",{className:"header-cart"},r.a.createElement("strong",null,"Cart")),this.state.cart.length>0?this.state.cart.map((function(t,a){return r.a.createElement(A,{key:a,id:t.id,name:t.name,price:t.price,image:t.image,handleRemove:e.removeCart,quantity:t.qty,handleTotal:e.calculateTotal,handleCart:e.handleCart,reduceCart:e.reduceCart})})):r.a.createElement("h5",{className:"cart-p"},r.a.createElement("strong",null," your cart is empty")),r.a.createElement("div",null,this.state.total>0?r.a.createElement("strong",null,"Total Price: Rp. ",this.state.total):r.a.createElement("h1",null),this.state.cart.length>0?r.a.createElement("div",{className:"row mt-2 ml-2"},r.a.createElement("button",{"data-toggle":"modal","data-target":"#checkout",className:"btn btn-primary"},"Checkout")):r.a.createElement("div",null))),r.a.createElement("div",{className:"modal fade",id:"addModal",tabIndex:-1,role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"Add Product"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name",className:"col-form-label"},"Name:"),r.a.createElement("input",{type:"text",className:"form-control",id:"name",name:"name",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"price",className:"col-form-label"},"Price:"),r.a.createElement("input",{type:"number",className:"form-control",id:"price",name:"price",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"count",className:"col-form-label"},"Quantity:"),r.a.createElement("input",{type:"number",className:"form-control",id:"quantity",name:"count",required:!0})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"id_category",className:"col-form-label"},"category:"),r.a.createElement("select",{id:"category",name:"id_category",className:"form-control",required:!0},r.a.createElement("option",{hidden:!0,disabled:!0,selected:!0,value:!0}," ---SELECT--- "),this.state.categories.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.name_category)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"image",className:"col-form-label"},"Image: ",r.a.createElement("br",null)),!0===this.state.warningFile?r.a.createElement("p",{style:{color:"red"}},"File must image and image must lower than 1MB !!"):"",r.a.createElement("input",{type:"file",className:"form-control",id:"image",name:"image",onChange:this.handleAddImg,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"description",className:"col-form-label"},"Description:"),r.a.createElement("textarea",{className:"form-control",id:"description",name:"description",required:!0}))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-warning","data-dismiss":"modal"},"Close"),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")))))),r.a.createElement("div",{className:"modal fade",id:"detailProduct",tabIndex:-1,role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"Add Product"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name",className:"col-form-label"},"Name:"),r.a.createElement("input",{type:"text",className:"form-control",id:"name",name:"name"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"price",className:"col-form-label"},"Price:"),r.a.createElement("input",{type:"number",className:"form-control",id:"price",name:"price"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"count",className:"col-form-label"},"Quantity:"),r.a.createElement("input",{type:"number",className:"form-control",id:"quantity",name:"count"})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"id_category",className:"col-form-label"},"category:"),r.a.createElement("select",{id:"category",name:"id_category",className:"form-control"},r.a.createElement("option",{value:""},"--SELECT--"),this.state.categories.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.name_category)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"image",className:"col-form-label"},"Image:"),r.a.createElement("input",{type:"file",className:"form-control",id:"image",name:"image"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"description",className:"col-form-label"},"Description:"),r.a.createElement("textarea",{className:"form-control",id:"description",name:"description"}))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-warning","data-dismiss":"modal"},"Close"),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")))))),r.a.createElement("div",{className:"modal fade",id:"checkout",tabIndex:-1,role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"Checkout"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("form",null,r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"form-group"},this.state.cart.map((function(e,t){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},e.name),r.a.createElement("div",{className:"col-md-3"},"Rp. ",e.price),r.a.createElement("div",{className:"col-md-3"},e.qty))})),r.a.createElement("div",{className:"row mt-1"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("strong",null,"PPN 10%")),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("strong",null,"Rp. ",.1*this.state.total)),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("strong",null,this.state.amount))),r.a.createElement("div",{className:"row mt-2"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("strong",null,"Products")),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("strong",null,"Total Price")),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("strong",null,"Amount"))),r.a.createElement("div",{className:"row mt-1"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("strong",null)),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("strong",null,"Rp"," ",this.state.total+.1*this.state.total)),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("strong",null,this.state.amount))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-warning","data-dismiss":"modal"},"Close"),r.a.createElement("button",{type:"button",onClick:this.handleCheckout,className:"btn btn-primary"},"Submit")))))))}}]),t}(n.Component),_=Object(p.b)((function(e){return{data:e.categories}}))(B),z=(a(81),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={showSideBar:"none",showCart:"none",filter:""},a.handleLogOut=a.handleLogOut.bind(Object(g.a)(a)),a.sideBarToggle=a.sideBarToggle.bind(Object(g.a)(a)),a.cartToggle=a.cartToggle.bind(Object(g.a)(a)),a.searchChange=a.searchChange.bind(Object(g.a)(a)),a.search=a.search.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleLogOut",value:function(){localStorage.removeItem("keyToken"),window.location.href="/"}},{key:"sideBarToggle",value:function(){"none"===this.state.showSideBar?this.setState({showSideBar:"inline"}):this.setState({showSideBar:"none"})}},{key:"cartToggle",value:function(){"none"===this.props.show?this.props.cartToggle("block"):this.props.cartToggle("none")}},{key:"searchChange",value:function(e){console.log(e.target.value),this.setState({filter:e.target.value})}},{key:"search",value:function(){this.props.search(this.state.filter)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar bg-custom navbar-light shadow"},r.a.createElement("i",{className:"fa fa-bars",onClick:this.sideBarToggle}),r.a.createElement("input",{type:"text",id:"search",onChange:this.searchChange}),r.a.createElement("i",{className:"fa fa-search",onClick:this.search}),r.a.createElement("i",{className:"fas fa-shopping-cart",onClick:this.cartToggle})),r.a.createElement("div",{className:"sideApp shadow",style:{display:this.state.showSideBar}},r.a.createElement("a",{href:"/home"},r.a.createElement("i",{className:"fas fa-book"})),r.a.createElement("i",{"data-toggle":"modal","data-target":"#addModal",className:"fas fa-plus"}),r.a.createElement("a",{href:"/history"},r.a.createElement("i",{className:"fas fa-clipboard"})),r.a.createElement("i",{className:"fa fa-arrow-left",onClick:this.handleLogOut})))}}]),t}(n.Component)),U=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={show:"none",search:[]},a.cartToggle=a.cartToggle.bind(Object(g.a)(a)),a.search=a.search.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"cartToggle",value:function(e){this.setState({show:e})}},{key:"componentDidMount",value:function(){null==localStorage.getItem("keyToken")&&(window.location.href="/")}},{key:"search",value:function(){var e=Object(w.a)(N.a.mark((function e(t){var a=this;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://localhost:3333/api/products/search?name=".concat(t),{headers:{Authorization:localStorage.getItem("keyToken")}}).then((function(e){console.log(e),e.data.data.length>0?a.setState({search:e.data.data}):alert("data not found")})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{show:this.state.show,cartToggle:this.cartToggle,search:this.search}),r.a.createElement(_,{show:this.state.show,cartToggle:this.cartToggle,search:this.search}))}}]),t}(n.Component),Q="http://ec2-35-174-13-30.compute-1.amazonaws.com:3333",G=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={history:[],dailyIncome:[],annualIncome:[],income:[],amount:0,data:{},orders:[],totalOrders:0},e.getDailyIncome=e.getDailyIncome.bind(Object(g.a)(e)),e.getAnnualIncome=e.getAnnualIncome.bind(Object(g.a)(e)),e.getHistory=e.getHistory.bind(Object(g.a)(e)),e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getDailyIncome(),this.getAnnualIncome(),this.getHistory()}},{key:"getHistory",value:function(){var e=this;f.a.get("".concat(Q,"/api/products/history"),{headers:{Authorization:localStorage.getItem("keyToken")}}).then((function(t){e.setState({history:t.data.data})})).catch((function(e){console.log(e)}))}},{key:"getDailyIncome",value:function(){var e=this;f.a.get("".concat(Q,"/api/products/dailyIncome")).then((function(t){e.setState({dailyIncome:t.data.data})})).catch((function(e){console.log(e)}))}},{key:"getAnnualIncome",value:function(){var e=this;f.a.get("".concat(Q,"/api/products/annualIncome")).then((function(t){e.setState({annualIncome:t.data.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=[0],t=[];this.state.dailyIncome.map((function(a){e.push(a.INCOME),t.push(a.AMOUNT)}));var a=[0];return this.state.annualIncome.map((function(e){a.push(e.INCOME)})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-1 pl-0 ml-0 border border-light border-top-0 shadow",style:{height:"700px"}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 ml-5 mt-4"},r.a.createElement("button",{"data-toggle":"modal","data-target":"#addModal",className:"btn"},r.a.createElement(u.b,{to:"/home"},r.a.createElement("span",{className:"fas fa-long-arrow-alt-left"})))))),r.a.createElement("div",{className:"col-md-11 p-4 m-0",style:{height:"700px",overflowX:"hidden",overflowY:"scroll"}},r.a.createElement("div",{className:"row m-5"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"card bg-primary text-white text-center p-3"},r.a.createElement("blockquote",{className:"blockquote mb-0"},r.a.createElement("p",null,"Today's income"),r.a.createElement("h1",null,"Rp. ",e[e.length-1]),r.a.createElement("footer",{className:"text-white"})))),r.a.createElement("div",{className:" col-md-4"},r.a.createElement("div",{className:"card bg-warning text-white text-center p-3"},r.a.createElement("blockquote",{className:"blockquote mb-0"},r.a.createElement("p",null,"Today's Orders"),r.a.createElement("h1",null,t[t.length-1]),r.a.createElement("footer",{className:"text-white"})))),r.a.createElement("div",{className:" col-md-4"},r.a.createElement("div",{className:"card bg-danger text-white text-center p-3"},r.a.createElement("blockquote",{className:"blockquote mb-0"},r.a.createElement("p",null,"This Year's Income"),r.a.createElement("h1",null,"Rp. ",a[a.length-1]),r.a.createElement("footer",{className:"blockquote-footer text-white"}))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("table",{className:"table table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Date"),r.a.createElement("th",{scope:"col"},"Product"),r.a.createElement("th",{scope:"col"},"Price"))),r.a.createElement("tbody",null,this.state.history.map((function(e,t){return r.a.createElement("tr",null,r.a.createElement("th",null," ",e.date_created),r.a.createElement("td",null,e.product),r.a.createElement("td",null,"Rp. ",e.price))}))))))))))}}]),t}(n.Component),Y=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){null==localStorage.getItem("keyToken")&&(window.location.href="/")}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,null),r.a.createElement(G,null))}}]),t}(n.Component),H=a(23),J=a(48),K=a(49);function X(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?X(a,!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var W={categories:[],isLoading:!1,isFullfilled:!1,isRejected:!1},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CATEGORIES_PENDING":return $({},e,{isLoading:!0,isRejected:!1,isFullfilled:!1});case"GET_CATEGORIES_REJECTED":return $({},e,{isLoading:!1,isRejected:!0});case"GET_CATEGORIES_FULFILLED":return $({},e,{isLoading:!1,isFulfilled:!0,categories:t.payload.data.data});default:return e}},Z=Object(H.c)({categories:V}),ee=Object(J.createLogger)(),te=Object(H.d)(Z,Object(H.a)(ee,K.a)),ae=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,{store:te},r.a.createElement(u.a,null,r.a.createElement(h.a,{path:"/history",exact:!0,component:Y}),r.a.createElement(h.a,{path:"/home",exact:!0,component:U}),r.a.createElement(h.a,{path:"/",exact:!0,component:y})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[51,1,2]]]);
//# sourceMappingURL=main.a0b0d033.chunk.js.map